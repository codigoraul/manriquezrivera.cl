---
import BaseLayout from "../layouts/BaseLayout.astro";
import PageHero from "../components/PageHero.astro";
import Footer from "../components/Footer.astro";

const contactInfo = [
  { label: "Ubicación", value: "Huérfanos 757 oficina 614, Santiago", icon: "map" },
  { label: "Teléfono", value: "+56 9 1234 5678", href: "tel:+56912345678", icon: "phone" },
  { label: "Correo", value: "contacto@manriquezrivera.cl", href: "mailto:contacto@manriquezrivera.cl", icon: "mail" }
];

const iconPaths: Record<string, string> = {
  map: "M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z M12 13a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z",
  clock: "M12 6v6l3 3 M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z",
  bolt: "m13 2-3 8h4l-3 10",
  phone: "M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.12.9.37 1.78.72 2.61a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.47-1.29a2 2 0 0 1 2.11-.45 11.36 11.36 0 0 0 2.61.72A2 2 0 0 1 22 16.92Z",
  mail: "M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm16 2-8 5-8-5"
};
---

<BaseLayout title="Contacto · Manríquez Rivera">
  <PageHero 
    title="Contacto"
    breadcrumbs={[
      { label: "Inicio", href: "/" },
      { label: "Contacto" }
    ]}
    backgroundImage="/images/bg-title.jpg"
  />

  <section id="contacto" class="py-20 px-6 bg-white">
    <div class="max-w-container mx-auto grid grid-cols-1 gap-12 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,1.4fr)]">
      <aside class="rounded-3xl flex flex-col gap-8">
        <div>
          <p class="text-sm uppercase tracking-[0.35em] text-secondary/70 mb-3">Información directa</p>
          <h3 class="text-3xl font-bold text-primary leading-tight">Estamos disponibles para responderte</h3>
          <p class="text-gray-600 mt-4">
            Comunícate por tu canal preferido o agenda una reunión presencial en Santiago.
          </p>
        </div>
        <div class="bg-primary text-white rounded-3xl px-[42px] pb-8 pt-[52px] shadow-2xl space-y-6">
          <ul class="space-y-6">
            {contactInfo.map((info) => (
              <li class="flex items-start gap-4">
                <span class="w-12 h-12 rounded-full bg-white/15 text-secondary flex items-center justify-center">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d={iconPaths[info.icon]} />
                  </svg>
                </span>
                <div>
                  <p class="text-xs uppercase tracking-[0.35em] text-white/70">{info.label}</p>
                  {info.href ? (
                    <a href={info.href} class="text-xl font-semibold text-white hover:text-secondary transition">
                      {info.value}
                    </a>
                  ) : (
                    <p class="text-xl font-semibold text-white">{info.value}</p>
                  )}
                </div>
              </li>
            ))}
          </ul>
          <div class="space-y-3">
            <p class="text-sm uppercase tracking-[0.35em] text-white/70">Horario</p>
            <p class="text-lg font-semibold">Lunes a Viernes · 09:00 a 18:30</p>
            <p class="text-white/70">Respuesta en menos de 24 horas hábiles.</p>
          </div>
        </div>
      </aside>

      <div class="space-y-8">
        <div>
          <p class="text-sm uppercase tracking-[0.3em] text-secondary font-semibold mb-3">Formulario</p>
          <h2 class="text-3xl md:text-4xl font-bold text-primary">Formulario de contacto</h2>
        </div>

        <form
          class="bg-[#FFF3D3] rounded-3xl px-[42px] pb-8 pt-[52px] shadow-xl space-y-6"
          method="post"
          name="contacto-general"
          data-netlify="true"
          data-netlify-honeypot="bot-field"
        >
          <input type="hidden" name="form-name" value="contacto-general" />
          <input type="hidden" name="bot-field" />
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <label class="text-sm font-semibold text-gray-700 space-y-2">
              Nombre completo
              <input type="text" name="nombre" required class="w-full rounded-xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-secondary bg-white" placeholder="Ej: Daniela Rivera" />
            </label>
            <label class="text-sm font-semibold text-gray-700 space-y-2">
              Empresa (opcional)
              <input type="text" name="empresa" class="w-full rounded-xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-secondary bg-white" placeholder="Nombre de la empresa" />
            </label>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <label class="text-sm font-semibold text-gray-700 space-y-2">
              Correo electrónico
              <input type="email" name="correo" required class="w-full rounded-xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-secondary bg-white" placeholder="tu@correo.com" />
            </label>
            <label class="text-sm font-semibold text-gray-700 space-y-2">
              Teléfono
              <input type="tel" name="telefono" required class="w-full rounded-xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-secondary bg-white" placeholder="+56 9 ..." />
            </label>
          </div>
          <label class="text-sm font-semibold text-gray-700 space-y-2">
            Selecciona el servicio que necesitas
            <select name="servicio" class="w-full rounded-xl border border-gray-200 px-4 py-3 bg-white focus:outline-none focus:ring-2 focus:ring-secondary">
              <option value="Empresas">Empresas</option>
              <option value="Personas">Personas</option>
              <option value="Consultoría general">Consultoría general</option>
            </select>
          </label>
          <label class="text-sm font-semibold text-gray-700 space-y-2">
            Mensaje
            <textarea name="mensaje" rows="5" required class="w-full rounded-xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-secondary bg-white" placeholder="Cuéntanos brevemente tu caso"></textarea>
          </label>
          <button type="submit" class="w-full px-6 py-4 rounded-xl bg-primary text-white font-semibold text-lg hover:bg-primary-light transition-colors mt-4">
            Enviar mensaje
          </button>
        </form>
      </div>
    </div>
  </section>

  <section class="bg-gray-900 text-white py-16 px-6">
    <div class="max-w-container mx-auto grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
      <div>
        <p class="text-sm uppercase tracking-[0.3em] text-secondary font-semibold mb-3">Presencial y remoto</p>
        <h3 class="text-3xl font-bold mb-4">Te atendemos donde estés</h3>
        <p class="text-white/80 leading-relaxed mb-6">
          Agendamos reuniones en nuestras oficinas de Santiago o virtuales para clientes en otras regiones y fuera de Chile.
        </p>
        <a href="https://goo.gl/maps" target="_blank" rel="noreferrer" class="inline-flex items-center gap-2 text-secondary font-semibold">
          Ver ubicación en Google Maps
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m7 17 9-9" />
            <path d="M8 7h8v8" />
          </svg>
        </a>
      </div>
      <div class="rounded-3xl overflow-hidden shadow-2xl border border-white/10">
        <img
          src="https://images.unsplash.com/photo-1497493292307-31c376b6e479?auto=format&fit=crop&w=1200&q=80"
          alt="Oficinas Manríquez Rivera"
          class="w-full h-80 object-cover"
          loading="lazy"
        />
      </div>
    </div>
  </section>

  <section class="bg-primary text-white py-20 px-6">
    <div class="max-w-5xl mx-auto text-center space-y-6">
      <p class="uppercase tracking-[0.3em] text-sm text-white/70">Contacto</p>
      <h1 class="text-4xl md:text-5xl font-bold leading-tight text-white">
        Conversemos sobre el respaldo legal que necesitas
      </h1>
      <p class="text-white/85 text-lg max-w-3xl mx-auto">
        Nuestro equipo responde personalmente cada solicitud. Cuéntanos tu situación y te orientaremos en el camino más conveniente para tu empresa o tu familia.
      </p>
      <div class="flex flex-col sm:flex-row justify-center gap-4 text-base font-semibold">
        <a href="https://wa.me/56912345678" target="_blank" rel="noreferrer" class="inline-flex items-center justify-center px-8 py-3 rounded-full bg-white text-primary hover:bg-secondary transition">
          <svg aria-hidden="true" viewBox="0 0 32 32" class="w-5 h-5 mr-2" fill="currentColor">
            <path d="M19.11 17.64c-.27-.14-1.59-.78-1.84-.87-.25-.09-.43-.14-.61.14-.18.27-.7.87-.86 1.05-.16.18-.32.2-.59.07-.27-.14-1.15-.42-2.19-1.35-.81-.72-1.36-1.61-1.52-1.88-.16-.27-.02-.42.12-.56.12-.12.27-.32.41-.48.14-.16.18-.27.27-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.48-.84-2.02-.22-.54-.45-.46-.61-.47h-.52c-.18 0-.48.07-.73.34-.25.27-.95.93-.95 2.26 0 1.33.98 2.61 1.11 2.79.14.18 1.93 2.95 4.68 4.13.65.28 1.16.45 1.56.57.66.21 1.26.18 1.74.11.53-.08 1.59-.65 1.82-1.27.23-.62.23-1.15.16-1.27-.07-.12-.25-.2-.52-.34ZM16.02 27.5h-.01c-1.96 0-3.88-.53-5.55-1.54l-.4-.24-4.15 1.09 1.11-4.04-.26-.41a11.46 11.46 0 0 1-1.75-6.06C5.01 9.99 10.7 4.5 16.03 4.5c2.82 0 5.48 1.1 7.47 3.1a10.46 10.46 0 0 1 3.09 7.44c0 5.78-4.7 12.46-10.57 12.46Zm8.12-21.55A11.89 11.89 0 0 0 16.03 2.5C9.6 2.5 3.99 8.25 3.99 15.3c0 2.3.67 4.55 1.94 6.49L3.5 30l8.44-2.21a13.4 13.4 0 0 0 4.08.65h.01c6.43 0 12.04-5.75 12.04-12.8 0-3.2-1.24-6.2-3.93-9.69Z"/>
          </svg>
          WhatsApp
        </a>
        <a href="mailto:contacto@manriquezrivera.cl" class="inline-flex items-center justify-center px-8 py-3 rounded-full border border-white/60 text-white hover:bg-white/10 transition">
          Escribir correo
        </a>
      </div>
    </div>
  </section>

  <Footer />
</BaseLayout>

